<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
xmlns:h="http://java.sun.com/jsf/html"
xmlns:f="http://java.sun.com/jsf/core"
xmlns:p="http://primefaces.org/ui">
<h:head>
<title>Gerenciador de Quadro Sumario</title>
</h:head>
<h:body>
<h1>Gerenciador de Quadro Sumario</h1>
<h:form enctype="multipart/form-data">
    <p:growl id="messages" showDetail="true" />
 
    <p:fileUpload value="#{quadroSumarioMB.file}" mode="simple" disabled="false" />
 
    <p:commandButton value="Submit" ajax="false" update="messages" actionListener ="#{quadroSumarioMB.upload}" />
</h:form>
<h:form>

<p:dataTable styleClass="myclass" var="quadroSumario" value="#{quadroSumarioMB.listaQuadroSumario}">
    <p:column headerText="Id">
        <h:outputText value="#{quadroSumario.id}" />
    </p:column>
    <p:column headerText="Docente">
        <h:outputText value="#{quadroSumario.docente.nome}" />
    </p:column>
    <p:column headerText="Departamento">
      <h:outputText value="#{quadroSumario.docente.departamento.nome}" />
    </p:column>
     <p:column headerText="Departamento">
      <h:outputText value="#{quadroSumario.docente.matricula}" />
    </p:column>
     <p:column headerText="Resolução">
        <h:outputText value="#{quadroSumario.resolucao.descricao}" />
    </p:column>
</p:dataTable>
<p:poll interval="5"   update="@(.myclass)" />
<h:commandLink action="inicio" immediate="true" value="Voltar"/> 
</h:form>
</h:body>
</html>
